(()=>{var o=class{static version="0.1.0";static clientVersion="v1";static clientURL=`//localhost:8089/${this.clientVersion}/client/`};var a=class{static gset(t,e){return typeof window.__complyage__>"u"&&(window.__complyage__={}),e!==void 0&&(window.__complyage__[t]=e),window.__complyage__[t]||void 0}static getCookie(t){let e=`${encodeURIComponent(t)}=`,i=document.cookie.split(";");for(let n of i)if(n=n.trim(),n.startsWith(e))return decodeURIComponent(n.substring(e.length));return null}static async callAPI(t){let e=await fetch(o.clientURL+t,{credentials:"include"});return e.ok?await e.json():null}static async checkSession(){let t=this.getCookie("x_complyage");return!t||t===""?null:await this.callAPI(`session?apiKey=${this.gset("apiKey")}&token=${t||""}`)}static async checkLocation(){return await this.callAPI(`enforce?apiKey=${this.gset("apiKey")||""}`)}static getLang(){return(navigator.language||navigator.languages&&navigator.languages[0]||navigator.userLanguage||"en").split(/[-_]/)[0].toLowerCase()}};var c=async()=>{try{console.log(`ComplyAge Client Loader - ${o.clientVersion}`),console.log(`API Key: ${a.gset("apiKey")}`),await a.checkSession()===null&&console.log("No Session Cookie Found. Checking Zone/Public Key");let t=await a.checkLocation();if(console.log("AGE GATE",t.ageGate),t.enforce){let i=document.createElement("style");i.textContent=`
                body > *:not(.no-blur) {
                  filter: blur(8px);
                  transition: filter 0.3s ease;
                }
              `,document.head.appendChild(i);let n=document.createElement("iframe");n.src=`http://localhost:8089/verify?apiKey=${encodeURIComponent(apiKey)}`,n.classList.add("no-blur"),Object.assign(n.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",border:"none",margin:"0",padding:"0",zIndex:"9999",background:"transparent"}),document.body.appendChild(n)}}catch(s){console.error("An error occurred:",s)}};(async()=>await c())();})();
