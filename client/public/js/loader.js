(()=>{var n=class o{static gset(e,t){return typeof window.__complyage__>"u"&&(window.__complyage__={}),t!==void 0&&(window.__complyage__[e]=t),window.__complyage__[e]||void 0}static getCookie(e){let t=`${encodeURIComponent(e)}=`,s=document.cookie.split(";");for(let a of s)if(a=a.trim(),a.startsWith(t))return decodeURIComponent(a.substring(t.length));return null}static async callAPI(e){let t=String(o.gset("baseUrl")||""),s=String(o.gset("version")||""),a=`${t}/${s}/${e}`;alert(`${a}`);let i=await fetch(`${a}`,{credentials:"include"});return i.ok?await i.json():null}static async checkSession(){let e=this.getCookie("x_complyage");return!e||e===""?null:await this.callAPI(`session?apiKey=${this.gset("apiKey")}&token=${e||""}`)}static ageGate(){let e=document.createElement("iframe");e.src=`http://localhost:8089/v1/gate.html?apiKey=${o.gset("apiKey")}`,e.classList.add("no-blur"),Object.assign(e.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",border:"none",margin:"0",padding:"0",zIndex:"9999",background:"transparent"}),document.body.appendChild(e)}static async checkLocation(){return await this.callAPI(`enforce?apiKey=${this.gset("apiKey")||""}`)}static getLang(){return(navigator.language||navigator.languages&&navigator.languages[0]||navigator.userLanguage||"en").split(/[-_]/)[0].toLowerCase()}};var r=async()=>{console.log(`ComplyAge Client Loader - ${n.gset("version")}`),console.log(`API Key: ${n.gset("apiKey")}`);try{await n.checkSession()===null?(console.log("Session is invalid. Redirecting to age gate."),n.ageGate()):console.log("Session is valid.")}catch(o){console.error("An error occurred:",o)}};(async()=>await r())();})();
